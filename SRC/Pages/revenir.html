<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="#">
  <link rel='stylesheet' type='text/css' media='screen' href="../Styles/revenir.css">
  <title>Select a JSON File</title>
</head>
<body>
  <div class="container">
    <div class="content">
      <h1>Select a Backup</h1>
      <form id="fileForm">
        <label for="fileInput">JSON File:</label>
        <input type="file" id="fileInput" accept=".json">
        <input type="submit" value="Submit">
      </form>
    </div>
  </div>

  <script>
    document.getElementById('fileForm').addEventListener('submit', function(event) {
      event.preventDefault();

      var file = document.getElementById('fileInput').files[0];
      var reader = new FileReader();

      reader.onload = function(event) {
        var jsonContent = event.target.result;
        localStorage.setItem('selectedJSON', jsonContent);
        localStorage.setItem('selectedFileName', file.name);
        window.location.href = 'ouvrir.html';
      };

      reader.readAsText(file);
    });

  </script>
</body>
</html>
